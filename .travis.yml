language: c
sudo: false

branches:
  only:
    - master

install:
  - source devtools/travis-ci/install.sh
  - export PYTHONUNBUFFERED=true

script:
  # Create and activate test environment
  - conda create --yes -n test python=$python
  - source activate test
  # Install openforcefield tools
  # TODO if changes to openforcefield become less dynamic switch to conda install?
  - pip install git+https://github.com/open-forcefield-group/openforcefield.git
  # Run tests
  - conda install --yes nose nose-timer
  - cd devtools && nosetests -vv --nocapture --with-timer MiniDrugBank && cd ..

env:
  matrix:
    - python=2.7 CONDA_PY=27
    - python=3.4 CONDA_PY=34
    - python=3.5 CONDA_PY=35
